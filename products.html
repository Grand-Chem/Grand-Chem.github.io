<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Grand-Chem Products</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: { extend: {
        colors: { brand:'#2e3091', accent:'#ed2724', bodytext:'#5658a7' }
      }}
    }
  </script>

  <!-- Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    html{scroll-behavior:smooth}

    /* Enhanced animated background with parallax */
    body::before{
      content:"";position:fixed;inset:0;z-index:-1;
      background:
        radial-gradient(circle at 20% 20%, rgba(46,48,145,.08), transparent 50%),
        radial-gradient(circle at 80% 30%, rgba(237,39,36,.08), transparent 50%),
        radial-gradient(circle at 40% 70%, rgba(46,48,145,.06), transparent 50%),
        linear-gradient(135deg, rgba(46,48,145,.03), rgba(237,39,36,.03));
      animation: backgroundFloat 20s ease-in-out infinite;
    }

    @keyframes backgroundFloat {
      0%, 100% { transform: translateX(0) translateY(0) rotate(0deg); }
      33% { transform: translateX(-20px) translateY(-10px) rotate(1deg); }
      66% { transform: translateX(10px) translateY(-20px) rotate(-1deg); }
    }

    /* Enhanced logo with animation */
    .logo-text{
      font-weight:800;text-transform:uppercase;letter-spacing:.03em;
      background:linear-gradient(45deg,#2e3091,#3b55c0,#76a6e9,#2e3091);
      background-size: 300% 300%;
      -webkit-background-clip:text;background-clip:text;color:transparent;
      text-shadow:0 1px 0 rgba(0,0,0,.12);white-space:nowrap;
      animation: gradientShift 4s ease-in-out infinite;
      transition: transform 0.3s ease;
    }
    .logo-text:hover { transform: scale(1.05); }
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    @supports not (-webkit-background-clip:text){.logo-text{color:#2e3091}}

    /* Enhanced Cards with modern effects */
    .float-card{
      background:linear-gradient(145deg, #ffffff, #f8fafc);
      border:1px solid rgba(0,0,0,.08);border-radius:20px;padding:16px;
      box-shadow:0 8px 32px rgba(0,0,0,.06);
      transition:all .4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      animation:floatY 6s ease-in-out infinite;
      position: relative;
      overflow: hidden;
    }

    .float-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(46,48,145,0.05), transparent);
      transition: left 0.6s ease;
    }

    .float-card:hover::before {
      left: 100%;
    }

    .float-card:hover{
      transform:translateY(-12px) scale(1.03);
      box-shadow:0 20px 40px rgba(0,0,0,.15);
      border-color: rgba(46,48,145,.2);
    }

    @keyframes floatY{
      0%{transform:translateY(0) rotate(0deg)}
      50%{transform:translateY(-8px) rotate(0.5deg)}
      100%{transform:translateY(0) rotate(0deg)}
    }

    /* Scroll reveal animations */
    .fade-in-up {
      opacity: 0;
      transform: translateY(60px);
      transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .fade-in-up.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .scale-in {
      opacity: 0;
      transform: scale(0.8);
      transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .scale-in.visible {
      opacity: 1;
      transform: scale(1);
    }

    /* Modal shell (centered, phone-friendly) */
    .gc-backdrop{background:rgba(0,0,0,.42)}
    .gc-modal{ width:100%; max-width:1100px; height:calc(100vh - 16px); }
    @media (min-width:768px){
      .gc-modal{height:auto;max-height:calc(100vh - 64px)}
    }
    @media (max-width:640px){
      .gc-modal{height:calc(100vh - 8px); max-height:none}
    }

    /* Pills - Mobile Optimized */
    .gc-tab{border:1px solid rgba(0,0,0,.1);border-radius:8px;padding:6px 10px;font-size:.8rem;background:#fff;min-width:60px;text-align:center}
    @media (min-width:768px){
      .gc-tab{border-radius:10px;padding:8px 12px;font-size:.9rem}
    }
    .gc-tab.active{background:#2e3091;color:#fff;border-color:#2e3091}
    .gc-choice{border:1px solid rgba(0,0,0,.12);border-radius:9999px;padding:4px 8px;font-size:.8rem;background:#fff;margin:1px}
    @media (min-width:768px){
      .gc-choice{padding:6px 12px;font-size:.9rem}
    }
    .gc-choice.active{background:#2e3091;color:#fff;border-color:#2e3091}
    .btn-brand{background:#2e3091;color:#fff;border-radius:8px;padding:8px 12px}
    @media (min-width:768px){
      .btn-brand{border-radius:12px;padding:10px 16px}
    }
    .btn-brand:hover{filter:brightness(.95)}

    /* ===== Brand-blue outline button utility ===== */
    .btn-outline-brand{
      border-width:2px; border-color:#2e3091;
      transition: border-color .2s ease, box-shadow .2s ease;
    }
    .btn-outline-brand:focus{
      outline:none; border-color:rgba(46,48,145,.8);
      box-shadow:0 0 0 3px rgba(46,48,145,.15);
    }

    /* ===== Brand glow for images (remove white ring on demand) ===== */
    .glow-outer{
      border-radius:.75rem;
      box-shadow:

        0 0 36px 10px rgba(46,48,145,.45),
        0 0 18px 2px rgba(237,39,36,.20);
      transition: box-shadow .28s ease;
    }
    .glow-outer:hover{
      box-shadow:

        0 0 42px 16px rgba(46,48,145,.65),
        0 0 24px 4px rgba(237,39,36,.28);
    }
    /* NEW: plain variant with NO white outline ring */
    .glow-outer--plain{
      box-shadow:
        0 0 18px 2px rgba(46,48,145,.45),
        0 0 36px 10px rgba(237,39,36,.20) !important;
    }
    .glow-outer--plain:hover{
      box-shadow:
        0 0 44px 16px rgba(46,48,145,.65),
        0 0 24px 4px rgba(237,39,36,.28) !important;
    }

    .glow-mask{ overflow:hidden; border-radius: inherit; }

    /* Enhanced WhatsApp Floating Button */
    .whatsapp-float {
      position: fixed; bottom: 20px; left: 20px; z-index: 9999; text-decoration: none;
      animation: floatWhatsApp 3s ease-in-out infinite;
    }
    .whatsapp-icon {
      width: 55px; height: 55px;
      transition: transform .3s, box-shadow .3s;
      border-radius: 50%;
    }
    .whatsapp-icon:hover {
      transform: scale(1.1) rotate(5deg);
      box-shadow: 0 10px 25px rgba(37,211,102,0.4);
    }

    @keyframes floatWhatsApp {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    /* Loading screen */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .loading-screen.hidden {
      opacity: 0;
      transform: scale(0.95);
      pointer-events: none;
    }

    /* ---------- EXACT FIXES FOR WHITE TILE ---------- */
    /* Make the image stage 100% transparent and stop any nested element from painting a background */
    #imageStage { background: transparent !important; }
    #imageStage * { background: transparent !important; }

    /* (Optional) If your photo has white baked in and the page behind is darker,
       you can try revealing it with blending:
       #mImg { mix-blend-mode: multiply; }
    */
  </style>
</head>

<body class="bg-white text-neutral-900 font-sans">

  <!-- Loading Screen -->
  <div id="loading-screen" class="loading-screen">
    <div class="text-center">
      <div class="relative w-20 h-20 mx-auto mb-4">
        <div class="absolute inset-0 border-4 border-brand/20 rounded-full"></div>
        <div class="absolute inset-0 border-4 border-transparent border-t-brand rounded-full animate-spin"></div>
      </div>
      <div class="logo-text text-xl">Grand-Chem Limited</div>
      <div class="text-sm text-bodytext mt-2">Loading product catalog...</div>
    </div>
  </div>

  <!-- ========= HEADER (MOBILE MENU INCLUDED) ========= -->
  <header class="sticky top-0 z-50 bg-white/80 backdrop-blur border-b">
    <div class="mx-auto max-w-7xl px-4 py-3 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-2">
        <img src="images/logo.png" alt="Grand-Chem" class="h-8 w-auto">
        <span class="logo-text">Grand-Chem Limited</span>
      </a>

      <!-- Desktop nav -->
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a href="index.html#how" class="hover:opacity-70">How We Work</a>
        <a href="products.html" class="hover:opacity-70">Products</a>
        <a href="profile.html" class="hover:opacity-70">Profile</a>
        <a href="index.html#sustain" class="hover:opacity-70">Sustainability</a>
        <a href="index.html#faq" class="hover:opacity-70">FAQ</a>
        <a href="index.html#contact" class="inline-flex items-center gap-2 rounded-xl px-4 py-2 bg-brand text-white">Contact Sales</a>
      </nav>

      <!-- Mobile button -->
      <button id="mnavBtn" class="md:hidden p-2 rounded-lg hover:bg-neutral-100" aria-label="Open menu">
        <i data-lucide="menu" class="w-6 h-6"></i>
      </button>
    </div>

    <!-- Mobile drawer -->
    <div id="mnav" class="md:hidden hidden border-t">
      <div class="max-w-7xl mx-auto px-4 py-3 flex flex-col gap-3 text-sm">
        <a href="index.html#how" class="py-1">How We Work</a>
        <a href="products.html" class="py-1 text-brand font-medium">Products</a>
        <a href="profile.html" class="py-1">Profile</a>
        <a href="index.html#sustain" class="py-1">Sustainability</a>
        <a href="index.html#faq" class="py-1">FAQ</a>
        <a href="index.html#contact" class="mt-2 inline-flex items-center justify-center rounded-xl px-4 py-2 bg-brand text-white">Contact Sales</a>
      </div>
    </div>
  </header>

  <!-- Enhanced Intro -->
  <section class="mx-auto max-w-7xl px-4 pt-8 md:pt-12 pb-6 md:pb-8">
    <div class="fade-in-up">
      <div class="inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-brand/10 to-accent/10 text-brand rounded-full text-xs md:text-sm font-medium mb-4 md:mb-6">
        <i data-lucide="package-search" class="w-3 h-3 md:w-4 md:h-4"></i>
        Interactive Product Catalog
      </div>
      <h1 class="text-2xl md:text-4xl lg:text-6xl font-bold bg-gradient-to-r from-brand to-accent bg-clip-text text-transparent mb-3 md:mb-4">
        Product Gallery
      </h1>
      <p class="text-sm md:text-lg text-bodytext max-w-3xl leading-relaxed">
        Explore our comprehensive product families with detailed specifications, sizing options, and MOQ information.
        Click any product card to access our interactive catalog with image galleries and technical details.
      </p>
      <div class="mt-4 md:mt-6 flex flex-col sm:flex-row items-start sm:items-center gap-3 md:gap-6 text-xs md:text-sm text-neutral-600">
        <div class="flex items-center gap-2">
          <div class="w-6 h-6 md:w-8 md:h-8 bg-green-100 rounded-full flex items-center justify-center">
            <i data-lucide="mouse-pointer-click" class="w-3 h-3 md:w-4 md:h-4 text-green-600"></i>
          </div>
          <span>Click to explore</span>
        </div>
        <div class="flex items-center gap-2">
          <div class="w-6 h-6 md:w-8 md:h-8 bg-blue-100 rounded-full flex items-center justify-center">
            <i data-lucide="images" class="w-3 h-3 md:w-4 md:h-4 text-blue-600"></i>
          </div>
          <span>Image galleries</span>
        </div>
        <div class="flex items-center gap-2">
          <div class="w-6 h-6 md:w-8 md:h-8 bg-purple-100 rounded-full flex items-center justify-center">
            <i data-lucide="info" class="w-3 h-3 md:w-4 md:h-4 text-purple-600"></i>
          </div>
          <span>Detailed specs</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Section cards -->
  <section id="sectionsGrid" class="mx-auto max-w-7xl px-4 py-6 md:py-10 grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"></section>

  <!-- Footer -->
  <footer class="border-t mt-8 md:mt-16">
    <div class="mx-auto max-w-7xl px-4 py-6 md:py-10 text-xs md:text-sm text-bodytext grid md:grid-cols-2 gap-4 md:gap-6">
      <div>© 2025 Grand-Chem Limited — SEDEX Certified • Your Packaging Partner</div>
      <div class="md:text-right">Privacy • Terms</div>
    </div>
  </footer>

  <!-- ===== MODAL (Centered + mobile-friendly) ===== -->
  <div id="modalRoot" class="fixed inset-0 hidden z-[60]">
    <div class="absolute inset-0 gc-backdrop"></div>
    <div class="relative w-full h-full grid place-items-center p-3 md:p-6">
      <div class="relative bg-white rounded-2xl shadow-xl border gc-modal overflow-hidden flex flex-col">
        <!-- Header -->
        <div class="flex items-center justify-between px-5 py-4 border-b">
          <div class="flex items-center gap-3">
            <div class="h-9 w-9 rounded-lg bg-brand/10 flex items-center justify-center">
              <i data-lucide="package" class="w-5 h-5 text-brand"></i>
            </div>
            <div>
              <div id="mTitle" class="text-lg font-semibold">Title</div>
              <div id="mSubtitle" class="text-sm text-brand"></div>
            </div>
          </div>
          <button id="mClose" class="p-2 rounded-lg hover:bg-neutral-100">
            <i data-lucide="x" class="w-5 h-5"></i>
          </button>
        </div>

        <!-- Body -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-0 max-h-full md:max-h-[calc(100vh-160px)] min-h-0">
          <!-- Images (glow added) -->
          <div class="p-3 md:p-4">
            <!-- NOTE: plain glow (no white ring) + transparent stage -->
            <div class="glow-outer glow-outer--plain rounded-xl">
              <div class="glow-mask">
                <div id="imageStage" class="relative">
                  <img id="mImg" alt="" class="w-full h-[240px] md:h-[320px] lg:h-[420px] object-cover">
                  <button id="mPrev" class="absolute left-2 top-1/2 -translate-y-1/2 rounded-full p-1.5 md:p-2 shadow bg-white/80">
                    <i data-lucide="chevron-left" class="w-4 h-4 md:w-5 md:h-5"></i>
                  </button>
                  <button id="mNext" class="absolute right-2 top-1/2 -translate-y-1/2 rounded-full p-1.5 md:p-2 shadow bg-white/80">
                    <i data-lucide="chevron-right" class="w-4 h-4 md:w-5 md:h-5"></i>
                  </button>
                </div>
              </div>
            </div>
            <div id="mDots" class="flex items-center justify-center gap-2 mt-3"></div>
          </div>

          <!-- Details -->
          <div class="p-3 md:p-5 overflow-y-auto min-h-0">
            <div class="flex gap-2 mb-4 overflow-x-auto">
              <button id="tab1" class="gc-tab text-xs md:text-sm whitespace-nowrap">Sizes</button>
              <button id="tab2" class="gc-tab text-xs md:text-sm whitespace-nowrap">Colors</button>
              <button id="tab3" class="gc-tab text-xs md:text-sm whitespace-nowrap">MOQ</button>
            </div>
            <div id="mBody" class="text-xs md:text-sm leading-relaxed"></div>

            <a href="index.html#contact" class="inline-flex items-center gap-2 btn-brand mt-4 md:mt-6 text-xs md:text-sm px-3 py-2 md:px-4">
              Request a quote <i data-lucide="arrow-right" class="w-3 h-3 md:w-4 md:h-4"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* Mobile menu toggle */
    const mnavBtn = document.getElementById('mnavBtn');
    const mnav = document.getElementById('mnav');
    if (mnavBtn) mnavBtn.onclick = ()=>{
      mnav.classList.toggle('hidden');
      mnavBtn.innerHTML = mnav.classList.contains('hidden')
        ? '<i data-lucide="menu" class="w-6 h-6"></i>'
        : '<i data-lucide="x" class="w-6 h-6"></i>';
      lucide.createIcons();
    };

    /* ------------------ DATA ------------------ */
    const IMG = (n) => `images/gallery/${n}`;

    const SECTIONS = [
      { id:'film',  title:'Blown Film', desc:'Mono & Multilayer & Pure Water & Shrink',
        img: IMG('plain-shrink-roll.webp'),
        images:[IMG('plain-shrink-roll.webp'), IMG('plain-shrink-roll-2.webp'), IMG('grand-chem-shrink.webp')],
        modalType:'film'
      },
      { id:'pet',   title:'PET Bottles', desc:'140–1500 ml & pharma & Food & personal care',
        img: IMG('grand-chem-bottle.webp'),
        images:[IMG('grand-chem-bottle.webp'), IMG('grand-chem-pharma.webp'), IMG('grand-chem-cosmetics.webp')],
        modalType:'pet'
      },
      { id:'caps',  title:'Caps & Closures', desc:'Screw, push-pull; any color',
        img: IMG('grand-chem-caps.webp'),
        images:[IMG('grand-chem-caps.webp')],
        modalType:'caps'
      },
      { id:'lam',   title:'Lamination Jobs', desc:'Pouches, wrappers, barrier laminates',
        img: IMG('grand-chem-spices.webp'),
        images:[IMG('grand-chem-spices.webp'), IMG('grand-chem-coffe-pouch.webp'), IMG('grand-chem-cholate-wrapper.webp')],
        modal: { subtitle:'Pouches, wrappers, high-barrier laminates', simple:[
          'Gusseted, stand-pouch, zipper, spout & valve options.',
          'High-shine chocolate wrappers to matte coffee textures.'
        ], moq:'MOQ depends on width & print — usually 1–3 rolls' }
      },
      { id:'preforms',title:'Preforms', desc:'Multiple necks & gram weights',
        img: IMG('grand-chem-pet-3.webp'),
        images:[IMG('grand-chem-pet-3.webp')],
        modalType:'preforms'
      },
      { id:'gallon',title:'Gallon Moulding', desc:'HDPE 2 L & 4.5 L & Cap + Insert',
        img: IMG('2liter gallon.webp'),
        images:[IMG('2liter gallon.webp'), IMG('gc-toilet-liquid.webp')],
        modalType:'gallons'
      },
      { id:'custom',title:'Custom Jobs', desc:'Special specs & Bsrand work',
        img: IMG('lamination-converting.webp'),
        images:[IMG('grand-chem-standing-pouch.webp'), IMG('grand-chem-shopping bags.webp'),IMG('grand-chem-palm-oil.webp')],
        modal: { subtitle:'Unique sizes, colors, finishes & barrier targets', simple:[
          'Send dieline or sample; we engineer the stack-up.',
          'Artwork proofing & pilot runs to de-risk production.'
        ], moq:'Project-dependent' }
      }
    ];

    const PREFORMS = {
      "29/25 mm":[{g:9.7,pack:"2400 pcs/bag"},{g:11,pack:"2400 pcs/bag"}],
      "30 mm":[
        {g:11,pack:"2100 pcs/bag"},{g:12,pack:"2100 pcs/bag"},{g:12.8,pack:"2100 pcs/bag"},
        {g:14,pack:"1700 pcs/bag"},{g:14.5,pack:"1700 pcs/bag"},{g:17,pack:"1700 pcs/bag"},
        {g:32,pack:"900 pcs/bag"},{g:36,pack:"900 pcs/bag"}
      ],
      "28 mm SN":[{g:17.7,pack:"1600 pcs/bag"},{g:22,pack:"1500 pcs/bag"}],
      "28 mm":[{g:14.5,pack:"1700 pcs/bag"},{g:17,pack:"1700 pcs/bag"},{g:19,pack:"1200 pcs/bag"},
               {g:23,pack:"1200 pcs/bag"},{g:31,pack:"900 pcs/bag"},{g:36,pack:"900 pcs/bag"}]
    };

    const CAPS = {
      "29/25 mm":{ g:1.3, pack:"1000 pcs/bag" },
      "30/25 mm":{ g:1.8, pack:"1000 pcs/bag" },
      "1881 CSD 8":{ g:2.7, pack:"1000 pcs/bag" }
    };

    /* ---------- PET bottles: with special Pharma/Medical options ---------- */
    const PET_PRODUCTS = [
      {size:140,  label:'140 ml'},
      {size:180,  label:'Medical Solution Bottle 180 ml'},
      {size:200,  label:'Pharma Bottle 200 ml'},
      {size:250,  label:'250 ml'},
      {size:300,  label:'300 ml'},
      {size:350,  label:'350 ml'},
      {size:500,  label:'500 ml'},
      {size:1000, label:'1000 ml'},
      {size:1500, label:'1500 ml'}
    ];

    const PET_SPECIAL = {
      200: { bag:'100 pcs/bag', moq:'10 bags', label:'Pharma Bottle 200 ml' },
      180: { bag:'100 pcs/bag', moq:'10 bags', label:'Medical Solution Bottle 180 ml' }
    };

    function petPack(size){
      if (PET_SPECIAL[size]) return { bag: PET_SPECIAL[size].bag, moq: PET_SPECIAL[size].moq };
      return size>=1000 ? {bag:"50 pcs/bag", moq:"10 bags"} : {bag:"100 pcs/bag", moq:"10 bags"};
    }

    /* ------------------ RENDER CARDS ------------------ */
    const grid = document.getElementById('sectionsGrid');
    function card(section, idx){
      const el=document.createElement('div');
      el.className='float-card cursor-pointer';
      el.style.animationDelay=(idx%5)*0.12+'s';

      // Get quick info based on product type
      let quickInfo = getQuickInfo(section);

      el.innerHTML=`
        <div class="glow-outer rounded-lg mb-3 relative"><div class="glow-mask">
          <img src="${section.img}" alt="${section.title}" class="w-full h-[240px] md:h-[280px] lg:h-[320px] object-cover" loading="lazy">
          <div class="absolute top-2 right-2 md:top-3 md:right-3 bg-white/90 backdrop-blur rounded-full px-2 py-1 text-xs font-bold text-brand">
            ${quickInfo.badge}
          </div>
        </div></div>
        <div class="text-xs text-brand mb-2">${section.desc||''}</div>
        <div class="mb-3">
          <h3 class="text-base md:text-lg font-semibold mb-2">${section.title}</h3>
          <div class="grid grid-cols-2 gap-2 text-xs">
            <div class="bg-neutral-50 rounded-lg p-2">
              <div class="font-medium text-green-600">MOQ Range</div>
              <div class="text-neutral-600 text-xs">${quickInfo.moq}</div>
            </div>
            <div class="bg-neutral-50 rounded-lg p-2">
              <div class="font-medium text-blue-600">Sizes</div>
              <div class="text-neutral-600 text-xs">${quickInfo.sizes}</div>
            </div>
          </div>
        </div>
        <button class="w-full px-3 py-2 text-xs md:text-sm rounded-lg border btn-outline-brand hover:bg-brand hover:text-white transition-colors">
          View Full Details
        </button>`;
      el.addEventListener('click',()=>openModal(section));
      return el;
    }

    // Helper function to get quick product info
    function getQuickInfo(section) {
      switch(section.modalType) {
        case 'preforms':
          return {
            badge: '⚡ PRECISION',
            moq: '1 bag',
            sizes: '29-30mm necks'
          };
        case 'caps':
          return {
            badge: '🔒 SECURE',
            moq: '1000 pcs',
            sizes: '29-30mm'
          };
        case 'pet':
          return {
            badge: '🧴 PHARMA GRADE',
            moq: '10 bags',
            sizes: '140ml-1500ml'
          };
        case 'film':
          return {
            badge: '🎨 10-COLOR',
            moq: '1-5 rolls',
            sizes: 'Custom width'
          };
        case 'gallons':
          return {
            badge: '🛡️ HDPE/PP',
            moq: '10-20 pcs',
            sizes: '2L, 4.5L'
          };
        default:
          return {
            badge: '✨ CUSTOM',
            moq: 'Project dependent',
            sizes: 'Various'
          };
      }
    }
    SECTIONS.forEach((s,i)=>grid.appendChild(card(s,i)));

    /* ------------------ MODAL CORE ------------------ */
    const modalRoot=document.getElementById('modalRoot');
    const mImg=document.getElementById('mImg');
    const mTitle=document.getElementById('mTitle');
    const mSubtitle=document.getElementById('mSubtitle');
    const mBody=document.getElementById('mBody');
    const mDots=document.getElementById('mDots');
    const mPrev=document.getElementById('mPrev');
    const mNext=document.getElementById('mNext');
    const tab1=document.getElementById('tab1'), tab2=document.getElementById('tab2'), tab3=document.getElementById('tab3');

    let cur={images:[],i:0,modalType:null,section:null};

    function setImg(i){
      cur.i=(i+cur.images.length)%cur.images.length;
      mImg.src=cur.images[cur.i];
      mDots.innerHTML=cur.images.map((_,k)=>`<span class="${k===cur.i?'w-2.5':'w-1.5'} h-1.5 rounded-full ${k===cur.i?'bg-brand':'bg-neutral-300'} inline-block"></span>`).join('');
    }

    function openModal(section){
      cur={images:section.images||[section.img],i:0,modalType:section.modalType||null,section};
      mTitle.textContent=section.title;
      mSubtitle.textContent=section.modal?.subtitle||section.desc||'';
      setImg(0);
      modalRoot.classList.remove('hidden');
      document.body.style.overflow='hidden';

      tab1.textContent='Sizes'; tab2.textContent='Colors'; tab3.textContent='MOQ';
      tab1.classList.add('active'); tab2.classList.remove('active'); tab3.classList.remove('active');

      switch(section.modalType){
        case 'preforms': renderPreforms(); break;
        case 'gallons' : renderGallons(); break;
        case 'caps'    : renderCaps(); break;
        case 'film'    : renderFilm(); break;
        case 'pet'     : renderPET(); break;
        default        : renderSimple(section.modal);
      }
      lucide.createIcons();
    }

    document.getElementById('mClose').onclick=closeModal;
    function closeModal(){ modalRoot.classList.add('hidden'); document.body.style.overflow='auto' }
    modalRoot.addEventListener('click',e=>{ if(e.target===modalRoot) closeModal() });
    mPrev.onclick=()=>setImg(cur.i-1);
    mNext.onclick=()=>setImg(cur.i+1);

    tab1.onclick=()=>{ tab1.classList.add('active');tab2.classList.remove('active');tab3.classList.remove('active'); route('sizes'); };
    tab2.onclick=()=>{ tab2.classList.add('active');tab1.classList.remove('active');tab3.classList.remove('active'); route('colors'); };
    tab3.onclick=()=>{ tab3.classList.add('active');tab1.classList.remove('active');tab2.classList.remove('active'); route('moq'); };
    function route(which){
      switch(cur.section.modalType){
        case 'preforms': if(which==='sizes') renderPreforms(); else if(which==='colors') renderColorsNote(); else renderPreformsMOQ(); break;
        case 'gallons' : renderGallons(which); break;
        case 'caps'    : renderCaps(which); break;
        case 'film'    : renderFilm(which); break;
        case 'pet'     : renderPET(which); break;
        default        : if(which==='sizes') renderSimple(cur.section.modal); else if(which==='colors') renderColorsNote(); else renderMOQ(cur.section.modal);
      }
    }

    /* ---------- simple bodies ---------- */
    function renderSimple(modal){
      mBody.innerHTML = `<ul class="list-disc pl-5 space-y-1">${(modal?.simple||[]).map(x=>`<li>${x}</li>`).join('')}</ul>`;
    }
    function renderColorsNote(){ mBody.innerHTML = `<div class="text-sm">Most items available in <b>any color</b> on request. Brand color matching supported.</div>`; }
    function renderMOQ(modal){ mBody.innerHTML = `<div class="text-sm">MOQ: ${modal?.moq||'Project-dependent'}.</div>`; }

    /* ---------- Preforms ---------- */
    let pf_selectedSize=null;
    function renderPreforms(){
      const sizes=Object.keys(PREFORMS);
      if(!pf_selectedSize) pf_selectedSize=sizes[0];
      const grams=PREFORMS[pf_selectedSize];
      mBody.innerHTML=`
        <div class="text-xs text-neutral-500 mb-2">Pick neck size, then gram to reveal pack:</div>
        <div class="flex flex-wrap gap-2 mb-3">
          ${sizes.map(s=>`<button data-size="${s}" class="gc-choice ${s===pf_selectedSize?'active':''}">${s}</button>`).join('')}
        </div>
        <div class="text-xs text-neutral-500 mb-1">Grams</div>
        <div class="flex flex-wrap gap-2">
          ${grams.map(g=>`<button data-gram="${g.g}" class="gc-choice">${g.g} g</button>`).join('')}
        </div>
        <div id="pfPack" class="mt-4 text-sm"></div>`;
      mBody.querySelectorAll('[data-size]').forEach(b=> b.onclick=()=>{pf_selectedSize=b.dataset.size;renderPreforms();});
      mBody.querySelectorAll('[data-gram]').forEach(b=> b.onclick=()=>{
        const g=+b.dataset.gram, found=PREFORMS[pf_selectedSize].find(x=>x.g===g);
        mBody.querySelector('#pfPack').innerHTML=`<div class="rounded-lg border p-3 bg-neutral-50">Pack: <b>${found.pack}</b></div>`;
        mBody.querySelectorAll('[data-gram]').forEach(x=>x.classList.remove('active')); b.classList.add('active');
      });
    }
    function renderPreformsMOQ(){ mBody.innerHTML=`<div class="text-sm">Typical MOQ: 1 bag (pack varies by gram). Colors available on request.</div>` }

    /* ---------- Caps ---------- */
    let cap_selected=Object.keys(CAPS)[0];
    function renderCaps(which='sizes'){
      if(which==='colors'){ renderColorsNote(); return; }
      if(which==='moq'){ mBody.innerHTML=`<div class="text-sm">Standard pack: <b>1000 pcs/bag</b>. Any color available.</div>`; return; }
      const keys=Object.keys(CAPS); const {g,pack}=CAPS[cap_selected];
      mBody.innerHTML=`
        <div class="text-xs text-neutral-500 mb-2">Pick neck:</div>
        <div class="flex flex-wrap gap-2 mb-3">
          ${keys.map(k=>`<button data-cap="${k}" class="gc-choice ${k===cap_selected?'active':''}">${k}</button>`).join('')}
        </div>
        <div class="rounded-lg border p-3 bg-neutral-50">
          <div><b>Weight:</b> ${g} g each</div>
          <div><b>Pack:</b> ${pack}</div>
        </div>
        <div class="mt-3 text-sm">Color: <b>any</b> (brand match on request).</div>`;
      mBody.querySelectorAll('[data-cap]').forEach(b=> b.onclick=()=>{cap_selected=b.dataset.cap;renderCaps()});
    }

    /* ---------- Film ---------- */
    let film_type='Shrink Wrap';
    function renderFilm(which='sizes'){
      const types=['Shrink Wrap','Pure Water Roll'];
      if(which==='moq'){ mBody.innerHTML=`<div class="text-sm">Typical MOQ: 1–5 rolls depending on width & micron. Printing up to 10 colors.</div>`; return; }
      if(which==='colors'){ mBody.innerHTML=`<div class="text-sm">Plain (transparent) or printed up to 10 colors. HD or LD substrate per spec.</div>`; return; }
      if(!types.includes(film_type)) film_type=types[0];

      if(film_type==='Shrink Wrap'){
        mBody.innerHTML=`
          <div class="text-xs text-neutral-500 mb-2">Select type:</div>
          <div class="flex flex-wrap gap-2 mb-4">
            ${types.map(t=>`<button data-film="${t}" class="gc-choice ${t===film_type?'active':''}">${t}</button>`).join('')}
          </div>
          <ul class="list-disc pl-5 space-y-1">
            <li><b>Core type</b>: PVC / Paper</li>
            <li><b>Core Ø</b>: provide diameter in mm</li>
            <li><b>Size</b>: width in mm + required micron</li>
            <li><b>S hrinkage %</b>: target percentage</li>
            <li><b>Finish</b>: Plain (transparent) or Printed</li>
          </ul>`;
      }else{
        mBody.innerHTML=`
          <div class="text-xs text-neutral-500 mb-2">Select type:</div>
          <div class="flex flex-wrap gap-2 mb-4">
            ${types.map(t=>`<button data-film="${t}" class="gc-choice ${t===film_type?'active':''}">${t}</button>`).join('')}
          </div>
          <ul class="list-disc pl-5 space-y-1">
            <li><b>Material</b>: HD (cheaper) or LD (clearer; costs more)</li>
            <li><b>Standard</b>: 13" rolls, ~20 kg each, paper core</li>
            <li><b>Micron</b>: 35 / 37 µ typical</li>
          </ul>`;
      }
      mBody.querySelectorAll('[data-film]').forEach(b=> b.onclick=()=>{ film_type=b.dataset.film; renderFilm() });
    }

    /* ---------- PET bottles ---------- */
    let pet_selected = PET_PRODUCTS[0].size;
    function renderPET(which='sizes'){
      if(which==='colors'){ renderColorsNote(); return; }
      if(which==='moq'){ mBody.innerHTML=`<div class="text-sm">Standard MOQ: <b>10 bags</b>. Pack per bag depends on size (see Sizes tab).</div>`; return; }

      const pills = PET_PRODUCTS.map(p=>`<button data-ml="${p.size}" class="gc-choice ${p.size===pet_selected?'active':''}">${p.label}</button>`).join('');
      const info = petPack(pet_selected);

      mBody.innerHTML=`
        <div class="text-xs text-neutral-500 mb-2">Pick size:</div>
        <div class="flex flex-wrap gap-2 mb-3">${pills}</div>
        <div class="rounded-lg border p-3 bg-neutral-50">
          <div><b>Pack:</b> ${info.bag}</div>
          <div><b>MOQ:</b> ${info.moq}</div>
        </div>
        <div class="mt-3 text-sm">Necks: 28–30 mm. Caps, pumps, flip-tops available.</div>`;

      mBody.querySelectorAll('[data-ml]').forEach(b=> b.onclick=()=>{ pet_selected=+b.dataset.ml; renderPET() });
    }

    /* ---------- Gallons ---------- */
    const GALLONS = {
      "4.5 L": {
        weights:{
          "Normal (160 g)":{"colors":["Clear","Milky White","Custom"],pack:"10 pcs/bag"},
          "Heavy (190 g +)":{"colors":["Clear","Milky White","Custom"],pack:"10 pcs/bag"}
        },
        note:"Comes with cap + insert. Custom molds on request."
      },
      "2 L": { colors:["Clear","Milky White","Custom"], pack:"20 pcs/bag", note:"Comes with cap + insert." }
    };

    let gal_size='4.5 L', gal_weight='Normal (160 g)', gal_color='Clear';
    function renderGallons(which='sizes'){
      tab1.textContent='Sizes'; tab2.textContent='Colors'; tab3.textContent='Pack';
      const sizeKeys=Object.keys(GALLONS); if(!sizeKeys.includes(gal_size)) gal_size=sizeKeys[0];

      if(gal_size==='4.5 L'){
        const weights=Object.keys(GALLONS['4.5 L'].weights);
        if(!weights.includes(gal_weight)) gal_weight=weights[0];
        const colors=GALLONS['4.5 L'].weights[gal_weight].colors;
        const pack=GALLONS['4.5 L'].weights[gal_weight].pack;
        const note=GALLONS['4.5 L'].note;

        const bodySizes=`
          <div class="text-xs text-neutral-500 mb-2">Select size:</div>
          <div class="flex flex-wrap gap-2 mb-3">
            ${sizeKeys.map(s=>`<button data-gsize="${s}" class="gc-choice ${s===gal_size?'active':''}">${s}</button>`).join('')}
          </div>`;
        const bodyWeights=`
          <div class="text-xs text-neutral-500 mb-2">Weight (4.5 L):</div>
          <div class="flex flex-wrap gap-2 mb-3">
            ${weights.map(w=>`<button data-gw="${w}" class="gc-choice ${w===gal_weight?'active':''}">${w}</button>`).join('')}
          </div>`;
        const bodyColors=`
          <div class="text-xs text-neutral-500 mb-2">Colors:</div>
          <div class="flex flex-wrap gap-2 mb-3">
            ${colors.map(c=>`<button data-gc="${c}" class="gc-choice ${c===gal_color?'active':''}">${c}</button>`).join('')}
          </div>`;

        if(tab1.classList.contains('active')) mBody.innerHTML=bodySizes+bodyWeights+bodyColors+packCard(pack,note);
        else if(tab2.classList.contains('active')) mBody.innerHTML=bodyColors+packCard(pack,note);
        else mBody.innerHTML=packCard(pack,note);

      }else{ // 2 L
        const colors=GALLONS['2 L'].colors; gal_color=colors.includes(gal_color)?gal_color:colors[0];
        const pack=GALLONS['2 L'].pack, note=GALLONS['2 L'].note;
        const bodySizes=`
          <div class="text-xs text-neutral-500 mb-2">Select size:</div>
          <div class="flex flex-wrap gap-2 mb-3">
            ${sizeKeys.map(s=>`<button data-gsize="${s}" class="gc-choice ${s===gal_size?'active':''}">${s}</button>`).join('')}
          </div>`;
        const bodyColors=`
          <div class="text-xs text-neutral-500 mb-2">Colors:</div>
          <div class="flex flex-wrap gap-2 mb-3">
            ${colors.map(c=>`<button data-gc="${c}" class="gc-choice ${c===gal_color?'active':''}">${c}</button>`).join('')}
          </div>`;

        if(tab1.classList.contains('active')) mBody.innerHTML=bodySizes+bodyColors+packCard(pack,note);
        else if(tab2.classList.contains('active')) mBody.innerHTML=bodyColors+packCard(pack,note);
        else mBody.innerHTML=packCard(pack,note);
      }

      wireGallons();
    }
    function packCard(pack,note){
      return `<div class="rounded-lg border p-3 bg-neutral-50">
        <div><b>Pack:</b> ${pack}</div><div><b>Includes:</b> Cap + Insert</div></div>
        <div class="mt-3 text-sm">${note} Colors: <b>Clear / Milky / Custom</b>.</div>`;
    }
    function wireGallons(){
      mBody.querySelectorAll('[data-gsize]')?.forEach(b=> b.onclick=()=>{gal_size=b.dataset.gsize;renderGallons()});
      mBody.querySelectorAll('[data-gw]')?.forEach(b=> b.onclick=()=>{gal_weight=b.dataset.gw;renderGallons()});
      mBody.querySelectorAll('[data-gc]')?.forEach(b=> b.onclick=()=>{gal_color=b.dataset.gc;mBody.querySelectorAll('[data-gc]').forEach(x=>x.classList.remove('active'));b.classList.add('active');});
    }

    /* Init icons */
    lucide.createIcons();

    // ===== ENHANCED ANIMATIONS AND EFFECTS =====
    document.addEventListener('DOMContentLoaded', () => {
      // Loading screen
      const loadingScreen = document.getElementById('loading-screen');

      window.addEventListener('load', () => {
        setTimeout(() => {
          loadingScreen.classList.add('hidden');
          setTimeout(() => {
            loadingScreen.style.display = 'none';
          }, 500);
        }, 800);
      });

      // Scroll reveal animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            const delay = entry.target.dataset.delay || 0;
            entry.target.style.transitionDelay = `${delay}ms`;
          }
        });
      }, observerOptions);

      // Observe animation elements
      document.querySelectorAll('.fade-in-up, .scale-in').forEach((el, index) => {
        el.dataset.delay = index * 100;
        observer.observe(el);
      });

      // Enhanced card interactions
      setTimeout(() => {
        const productCards = document.querySelectorAll('.float-card');
        productCards.forEach((card, index) => {
          // Add scale-in class for animation
          card.classList.add('scale-in');
          card.dataset.delay = index * 150;
          observer.observe(card);

          // Enhanced hover effects
          card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-12px) scale(1.03) rotateY(2deg)';
            this.style.boxShadow = '0 20px 40px rgba(0,0,0,0.15)';
          });

          card.addEventListener('mouseleave', function() {
            this.style.transform = '';
            this.style.boxShadow = '';
          });
        });
      }, 100);

      // Scroll progress indicator
      const progressBar = document.createElement('div');
      progressBar.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 0%;
        height: 3px;
        background: linear-gradient(90deg, #2e3091, #ed2724);
        z-index: 9999;
        transition: width 0.1s ease;
      `;
      document.body.appendChild(progressBar);

      window.addEventListener('scroll', () => {
        const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
        progressBar.style.width = scrollPercent + '%';
      });

      // Smooth scroll for navigation
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });

      // Performance optimization for reduced motion
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        document.querySelectorAll('*').forEach(el => {
          el.style.animationDuration = '0.01ms !important';
          el.style.animationIterationCount = '1 !important';
          el.style.transitionDuration = '0.01ms !important';
        });
      }
    });
  </script>

  <!-- WhatsApp Floating Button -->
  <a href="https://wa.me/233540125312?text=Hello%20Grand-Chem%20Limited%2C%20I%20would%20like%20to%20know%20more%20about%20your%20products."
     target="_blank" class="whatsapp-float" aria-label="Chat on WhatsApp">
    <img src="images/whatsapp-icon.png" alt="WhatsApp" class="whatsapp-icon">
  </a>
</body>
</html>
